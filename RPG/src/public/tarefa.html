<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Minhas Tarefas - Recife Point Game</title>
    <link rel="stylesheet" href="../css/tarefa.css" />
  </head>
  <body>
    <!-- 
      NAVBAR 
      A barra de navegaÃ§Ã£o serÃ¡ injetada dinamicamente via JavaScript
      atravÃ©s do componente barra-superior-loader.js
    -->
    <div class="tarefas-container">
      <!-- CabeÃ§alho da pÃ¡gina -->
      <h1>ğŸ“‹ Minhas Tarefas</h1>
      
      <!-- 
        SEÃ‡ÃƒO DE INFORMAÃ‡Ã•ES DO USUÃRIO
        Exibe estatÃ­sticas como capibas e tarefas completas
      -->
      <div class="user-info" id="userInfo" style="text-align: center; margin-bottom: 20px; color: white;">
        <div style="display: flex; justify-content: center; gap: 30px; flex-wrap: wrap;">
          <!-- Card de estatÃ­stica: Capibas -->
          <div class="stat-card">
            <span style="font-size: 1.1rem;">
              ğŸª™ <span id="userCapibas">0</span> capibas
            </span>
          </div>
          <!-- Card de estatÃ­stica: Tarefas completas -->
          <div class="stat-card">
            <span style="font-size: 1.1rem;">
              âœ… <span id="userTarefasCompletas">0</span> tarefas completas
            </span>
          </div>
        </div>
      </div>
      
      <!-- 
        CONTAINER PRINCIPAL DA LISTA DE TAREFAS
        Aqui as tarefas serÃ£o carregadas dinamicamente via JavaScript
      -->
      <div class="lista-tarefas" id="listaTarefas">
        <!-- 
          ESTADO DE CARREGAMENTO
          Exibido enquanto as tarefas estÃ£o sendo buscadas da API
        -->
        <div class="sem-tarefas" id="semTarefas">
          <h3>Carregando tarefas...</h3>
          <p>Aguarde enquanto buscamos seus pontos turÃ­sticos.</p>
        </div>
      </div>
    </div>

    <!-- 
      POPUP DE CONFIRMAÃ‡ÃƒO DE TAREFA
      Modal que aparece quando o usuÃ¡rio tenta concluir uma tarefa
    -->
    <div id="popupTarefa" class="popup-tarefa">
      <div class="popup-tarefa-content">
        <!-- BotÃ£o de fechar o popup -->
        <span class="close-popup" onclick="fecharPopupTarefa()">&times;</span>
        
        <!-- CabeÃ§alho do popup -->
        <div class="popup-header">
          <h2>ğŸ¯ Confirmar Tarefa</h2>
        </div>
        
        <!-- 
          SEÃ‡ÃƒO DE INFORMAÃ‡Ã•ES DA TAREFA
          Mostra detalhes da tarefa que serÃ¡ concluÃ­da
        -->
        <div class="popup-info">
          <!-- Local da tarefa -->
          <div class="info-item">
            <span class="info-label">ğŸ“ Local:</span>
            <span class="info-value" id="popupLocal">Carregando...</span>
          </div>
          
          <!-- Recompensa em capibas -->
          <div class="info-item">
            <span class="info-label">ğŸ’° Recompensa:</span>
            <span class="info-value" id="popupCapibas">0 capibas</span>
          </div>
          
          <!-- DescriÃ§Ã£o da tarefa -->
          <div class="info-item">
            <span class="info-label">ğŸ“ Tarefa:</span>
            <span class="info-value" id="popupDescricao">Carregando descriÃ§Ã£o...</span>
          </div>
        </div>
        
        <!-- 
          SEÃ‡ÃƒO DE AÃ‡Ã•ES DO POPUP
          BotÃµes para cancelar ou confirmar a conclusÃ£o
        -->
        <div class="popup-actions">
          <!-- BotÃ£o de cancelar - fecha o popup sem aÃ§Ãµes -->
          <button class="btn-cancelar" onclick="fecharPopupTarefa()">
            Cancelar
          </button>
          <!-- BotÃ£o de confirmar - executa a conclusÃ£o da tarefa -->
          <button class="btn-concluir" onclick="concluirTarefa()">
            âœ… Confirmar ConclusÃ£o
          </button>
        </div>
      </div>
    </div>

    <!-- 
      SCRIPTS DA APLICAÃ‡ÃƒO
      
      barra-superior-loader.js: Componente que carrega a navbar dinamicamente
      tarefa.js: LÃ³gica principal da pÃ¡gina de tarefas (carregar lista, concluir tarefas, etc.)
    -->
    <script type="module" src="../components/barra-superior/barra-superior-loader.js"></script>
    <script type="module" src="../js/tarefa.js"></script>
  </body>
</html>